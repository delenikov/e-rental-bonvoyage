{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\delen\\\\Desktop\\\\Java\\\\BonVoyage\\\\frontend\\\\src\\\\Components\\\\App\\\\App.js\";\nimport logo from '../../logo.svg';\nimport './App.css';\nimport { Component } from \"react\";\nimport { Routes, Route, BrowserRouter } from \"react-router-dom\";\nimport BonVoyageService from \"../../Repository/BonVoyageRepository\";\nimport Header from \"../Header/header\";\nimport Vehicles from \"../Vehicles/VehicleList/vehicles\";\nimport Locations from \"../Locations/locations\";\nimport Register from \"../Register/register\";\nimport Login from \"../Login/login\";\nimport Footer from \"../Footer/footer\";\nimport VehicleAdd from \"../Vehicles/VehicleAdd/VehicleAdd\";\nimport VehicleEdit from \"../Vehicles/VehicleEdit/VehicleEdit\";\nimport Cart from \"../Cart/Cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = () => {\n      this.loadCart();\n      this.loadCartVehicles();\n    };\n\n    this.reloadUserData = () => {\n      this.loadCart();\n      this.loadCartVehicles();\n    };\n\n    this.loadVehicles = () => {\n      BonVoyageService.fetchVehicles().then(data => {\n        this.setState({\n          vehicles: data.data\n        });\n      });\n    };\n\n    this.loadLocations = () => {\n      BonVoyageService.fetchLocations().then(data => {\n        this.setState({\n          locations: data.data\n        });\n      });\n    };\n\n    this.loadColors = () => {\n      BonVoyageService.fetchColors().then(data => {\n        this.setState({\n          colors: data.data\n        });\n      });\n    };\n\n    this.loadFuels = () => {\n      BonVoyageService.fetchFuels().then(data => {\n        this.setState({\n          fuels: data.data\n        });\n      });\n    };\n\n    this.loadRoles = () => {\n      BonVoyageService.fetchRoles().then(data => {\n        this.setState({\n          roles: data.data\n        });\n      });\n    };\n\n    this.getVehicle = id => {\n      BonVoyageService.getVehicle(id).then(data => {\n        this.setState({\n          selectedVehicle: data.data\n        });\n      });\n    };\n\n    this.deleteVehicle = id => {\n      BonVoyageService.deleteVehicle(id).then(() => {\n        this.loadVehicles();\n      });\n    };\n\n    this.addVehicle = (registration, brand, model, color, fuel, year, price, location, picture) => {\n      BonVoyageService.addVehicle(registration, brand, model, color, fuel, year, price, location, picture).then(() => {\n        this.loadVehicles();\n      });\n    };\n\n    this.editVehicle = (registration, brand, model, color, fuel, year, price, location, picture) => {\n      BonVoyageService.editVehicle(registration, brand, model, color, fuel, year, price, location, picture).then(() => {\n        this.loadVehicles();\n      });\n    };\n\n    this.loadCart = () => {\n      BonVoyageService.fetchCart().then(data => {\n        this.setState({\n          cart: data.data\n        });\n        this.loadCartVehicles();\n      });\n    };\n\n    this.loadCartVehicles = () => {\n      BonVoyageService.fetchCartVehicles().then(data => {\n        this.setState({\n          cartVehicles: data.data\n        });\n      });\n    };\n\n    this.addVehicleToCart = id => {\n      BonVoyageService.addToCart(id).then(() => {\n        this.loadCart();\n        this.loadCartVehicles();\n      });\n    };\n\n    this.removeVehicleFromCart = id => {\n      BonVoyageService.removeFromCart(id).then(() => {\n        this.loadCart();\n        this.loadCartVehicles();\n      });\n    };\n\n    this.loadVehiclesByLocation = id => {\n      BonVoyageService.fetchVehiclesByLocation(id).then(data => {\n        this.setState({\n          vehiclesByLocation: data.data\n        });\n      });\n    };\n\n    this.state = {\n      vehicles: [],\n      locations: [],\n      fuels: [],\n      colors: [],\n      roles: [],\n      cart: [],\n      cartVehicles: [],\n      selectedVehicle: {},\n      vehiclesByLocation: []\n    };\n  }\n\n  componentDidMount() {\n    this.loadRoles();\n    this.loadVehicles();\n    this.loadLocations();\n    this.loadColors();\n    this.loadFuels();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [[\"/\", \"/home\"].map(path => {\n              return /*#__PURE__*/_jsxDEV(Route, {\n                path: path,\n                element: /*#__PURE__*/_jsxDEV(Footer, {\n                  locations: this.state.locations,\n                  loadVehicles: this.loadVehiclesByLocation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 57\n                }, this)\n              }, path, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 41\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/vehicles/add\",\n              element: /*#__PURE__*/_jsxDEV(VehicleAdd, {\n                locations: this.state.locations,\n                categories: this.state.categories,\n                fuels: this.state.fuels,\n                colors: this.state.colors,\n                onAddVehicle: this.addVehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/vehicles/edit/:id\",\n              element: /*#__PURE__*/_jsxDEV(VehicleEdit, {\n                locations: this.state.locations,\n                onEditVehicle: this.editVehicle,\n                fuels: this.state.fuels,\n                colors: this.state.colors,\n                onEditVehicle: this.editVehicle,\n                vehicle: this.state.selectedVehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/vehicles\",\n              element: /*#__PURE__*/_jsxDEV(Vehicles, {\n                vehicles: this.state.vehicles,\n                onAddToCart: this.addVehicleToCart,\n                onDelete: this.deleteVehicle,\n                onEdit: this.getVehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/register\",\n              element: /*#__PURE__*/_jsxDEV(Register, {\n                roles: this.state.roles\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              element: /*#__PURE__*/_jsxDEV(Login, {\n                onLogin: this.fetchData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/locations\",\n              element: /*#__PURE__*/_jsxDEV(Locations, {\n                locations: this.state.locations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 63\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/cart\",\n              element: /*#__PURE__*/_jsxDEV(Cart, {\n                cart: this.state.cart,\n                cartVehicles: this.state.cartVehicles,\n                onDeleteFromCart: this.removeVehicleFromCart\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/locations/:id/vehicles\",\n              element: /*#__PURE__*/_jsxDEV(Vehicles, {\n                vehicles: this.state.vehiclesByLocation,\n                onDelete: this.deleteVehicle,\n                onEdit: this.getVehicle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/delen/Desktop/Java/BonVoyage/frontend/src/Components/App/App.js"],"names":["logo","Component","Routes","Route","BrowserRouter","BonVoyageService","Header","Vehicles","Locations","Register","Login","Footer","VehicleAdd","VehicleEdit","Cart","App","constructor","props","fetchData","loadCart","loadCartVehicles","reloadUserData","loadVehicles","fetchVehicles","then","data","setState","vehicles","loadLocations","fetchLocations","locations","loadColors","fetchColors","colors","loadFuels","fetchFuels","fuels","loadRoles","fetchRoles","roles","getVehicle","id","selectedVehicle","deleteVehicle","addVehicle","registration","brand","model","color","fuel","year","price","location","picture","editVehicle","fetchCart","cart","fetchCartVehicles","cartVehicles","addVehicleToCart","addToCart","removeVehicleFromCart","removeFromCart","loadVehiclesByLocation","fetchVehiclesByLocation","vehiclesByLocation","state","componentDidMount","render","map","path","categories"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,gBAAjB;AACA,OAAO,WAAP;AACA,SAAQC,SAAR,QAAwB,OAAxB;AACA,SAAQC,MAAR,EAAgBC,KAAhB,EAAuBC,aAAvB,QAA2C,kBAA3C;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,IAAP,MAAiB,cAAjB;;;AAEA,MAAMC,GAAN,SAAkBd,SAAlB,CAA4B;AAExBe,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAuBnBC,SAvBmB,GAuBP,MAAM;AACd,WAAKC,QAAL;AACA,WAAKC,gBAAL;AACH,KA1BkB;;AAAA,SA4BnBC,cA5BmB,GA4BF,MAAM;AACnB,WAAKF,QAAL;AACA,WAAKC,gBAAL;AACH,KA/BkB;;AAAA,SAiCnBE,YAjCmB,GAiCJ,MAAM;AACjBjB,MAAAA,gBAAgB,CAACkB,aAAjB,GACKC,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVC,UAAAA,QAAQ,EAAEF,IAAI,CAACA;AADL,SAAd;AAGH,OALL;AAMH,KAxCkB;;AAAA,SA0CnBG,aA1CmB,GA0CH,MAAM;AAClBvB,MAAAA,gBAAgB,CAACwB,cAAjB,GACKL,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVI,UAAAA,SAAS,EAAEL,IAAI,CAACA;AADN,SAAd;AAGH,OALL;AAMH,KAjDkB;;AAAA,SAmDnBM,UAnDmB,GAmDN,MAAM;AACf1B,MAAAA,gBAAgB,CAAC2B,WAAjB,GACKR,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVO,UAAAA,MAAM,EAAER,IAAI,CAACA;AADH,SAAd;AAGH,OALL;AAMH,KA1DkB;;AAAA,SA4DnBS,SA5DmB,GA4DP,MAAM;AACd7B,MAAAA,gBAAgB,CAAC8B,UAAjB,GACKX,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVU,UAAAA,KAAK,EAAEX,IAAI,CAACA;AADF,SAAd;AAGH,OALL;AAMH,KAnEkB;;AAAA,SAqEnBY,SArEmB,GAqEP,MAAM;AACdhC,MAAAA,gBAAgB,CAACiC,UAAjB,GACKd,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVa,UAAAA,KAAK,EAAEd,IAAI,CAACA;AADF,SAAd;AAGH,OALL;AAMH,KA5EkB;;AAAA,SA8EnBe,UA9EmB,GA8ELC,EAAD,IAAQ;AACjBpC,MAAAA,gBAAgB,CAACmC,UAAjB,CAA4BC,EAA5B,EACKjB,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVgB,UAAAA,eAAe,EAAEjB,IAAI,CAACA;AADZ,SAAd;AAGH,OALL;AAMH,KArFkB;;AAAA,SAuFnBkB,aAvFmB,GAuFFF,EAAD,IAAQ;AACpBpC,MAAAA,gBAAgB,CAACsC,aAAjB,CAA+BF,EAA/B,EACKjB,IADL,CACU,MAAM;AACR,aAAKF,YAAL;AACH,OAHL;AAIH,KA5FkB;;AAAA,SA8FnBsB,UA9FmB,GA8FN,CAACC,YAAD,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,KAA7B,EAAoCC,IAApC,EAA0CC,IAA1C,EAAgDC,KAAhD,EAAuDC,QAAvD,EAAiEC,OAAjE,KAA6E;AACtFhD,MAAAA,gBAAgB,CAACuC,UAAjB,CAA4BC,YAA5B,EAA0CC,KAA1C,EAAiDC,KAAjD,EAAwDC,KAAxD,EAA+DC,IAA/D,EAAqEC,IAArE,EAA2EC,KAA3E,EAAkFC,QAAlF,EAA4FC,OAA5F,EACK7B,IADL,CACU,MAAM;AACR,aAAKF,YAAL;AACH,OAHL;AAIH,KAnGkB;;AAAA,SAqGnBgC,WArGmB,GAqGL,CAACT,YAAD,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,KAA7B,EAAoCC,IAApC,EAA0CC,IAA1C,EAAgDC,KAAhD,EAAuDC,QAAvD,EAAiEC,OAAjE,KAA6E;AACvFhD,MAAAA,gBAAgB,CAACiD,WAAjB,CAA6BT,YAA7B,EAA2CC,KAA3C,EAAkDC,KAAlD,EAAyDC,KAAzD,EAAgEC,IAAhE,EAAsEC,IAAtE,EAA4EC,KAA5E,EAAmFC,QAAnF,EAA6FC,OAA7F,EACK7B,IADL,CACU,MAAM;AACR,aAAKF,YAAL;AACH,OAHL;AAIH,KA1GkB;;AAAA,SA4GnBH,QA5GmB,GA4GR,MAAM;AACbd,MAAAA,gBAAgB,CAACkD,SAAjB,GACK/B,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACV8B,UAAAA,IAAI,EAAE/B,IAAI,CAACA;AADD,SAAd;AAGA,aAAKL,gBAAL;AACH,OANL;AAOH,KApHkB;;AAAA,SAsHnBA,gBAtHmB,GAsHA,MAAM;AACrBf,MAAAA,gBAAgB,CAACoD,iBAAjB,GACKjC,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVgC,UAAAA,YAAY,EAAEjC,IAAI,CAACA;AADT,SAAd;AAGH,OALL;AAMH,KA7HkB;;AAAA,SA+HnBkC,gBA/HmB,GA+HClB,EAAD,IAAQ;AACvBpC,MAAAA,gBAAgB,CAACuD,SAAjB,CAA2BnB,EAA3B,EACKjB,IADL,CACU,MAAM;AACR,aAAKL,QAAL;AACA,aAAKC,gBAAL;AACH,OAJL;AAKH,KArIkB;;AAAA,SAuInByC,qBAvImB,GAuIMpB,EAAD,IAAQ;AAC5BpC,MAAAA,gBAAgB,CAACyD,cAAjB,CAAgCrB,EAAhC,EACKjB,IADL,CACU,MAAM;AACR,aAAKL,QAAL;AACA,aAAKC,gBAAL;AACH,OAJL;AAKH,KA7IkB;;AAAA,SA+InB2C,sBA/ImB,GA+IOtB,EAAD,IAAQ;AAC7BpC,MAAAA,gBAAgB,CAAC2D,uBAAjB,CAAyCvB,EAAzC,EACKjB,IADL,CACWC,IAAD,IAAU;AACZ,aAAKC,QAAL,CAAc;AACVuC,UAAAA,kBAAkB,EAAExC,IAAI,CAACA;AADf,SAAd;AAGH,OALL;AAOH,KAvJkB;;AAEf,SAAKyC,KAAL,GAAa;AACTvC,MAAAA,QAAQ,EAAE,EADD;AAETG,MAAAA,SAAS,EAAE,EAFF;AAGTM,MAAAA,KAAK,EAAE,EAHE;AAITH,MAAAA,MAAM,EAAE,EAJC;AAKTM,MAAAA,KAAK,EAAE,EALE;AAMTiB,MAAAA,IAAI,EAAE,EANG;AAOTE,MAAAA,YAAY,EAAE,EAPL;AAQThB,MAAAA,eAAe,EAAE,EARR;AASTuB,MAAAA,kBAAkB,EAAE;AATX,KAAb;AAWH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChB,SAAK9B,SAAL;AACA,SAAKf,YAAL;AACA,SAAKM,aAAL;AACA,SAAKG,UAAL;AACA,SAAKG,SAAL;AACH;;AAoIDkC,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,aAAD;AAAA,8BACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,+BACI;AAAK,UAAA,SAAS,EAAE,WAAhB;AAAA,iCACI,QAAC,MAAD;AAAA,uBACK,CAAC,GAAD,EAAM,OAAN,EAAeC,GAAf,CAAoBC,IAAD,IAAU;AAC1B,kCAAQ,QAAC,KAAD;AAAO,gBAAA,IAAI,EAAEA,IAAb;AACO,gBAAA,OAAO,eAAE,QAAC,MAAD;AAAQ,kBAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWpC,SAA9B;AACQ,kBAAA,YAAY,EAAE,KAAKiC;AAD3B;AAAA;AAAA;AAAA;AAAA;AADhB,iBAAwBO,IAAxB;AAAA;AAAA;AAAA;AAAA,sBAAR;AAGH,aAJA,CADL,eAMI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,eAAZ;AACO,cAAA,OAAO,eAAE,QAAC,UAAD;AAAY,gBAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWpC,SAAlC;AACY,gBAAA,UAAU,EAAE,KAAKoC,KAAL,CAAWK,UADnC;AAEY,gBAAA,KAAK,EAAE,KAAKL,KAAL,CAAW9B,KAF9B;AAGY,gBAAA,MAAM,EAAE,KAAK8B,KAAL,CAAWjC,MAH/B;AAIY,gBAAA,YAAY,EAAE,KAAKW;AAJ/B;AAAA;AAAA;AAAA;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,oBANJ,eAYI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,oBAAZ;AACO,cAAA,OAAO,eAAE,QAAC,WAAD;AAAa,gBAAA,SAAS,EAAE,KAAKsB,KAAL,CAAWpC,SAAnC;AACa,gBAAA,aAAa,EAAE,KAAKwB,WADjC;AAEa,gBAAA,KAAK,EAAE,KAAKY,KAAL,CAAW9B,KAF/B;AAGa,gBAAA,MAAM,EAAE,KAAK8B,KAAL,CAAWjC,MAHhC;AAIa,gBAAA,aAAa,EAAE,KAAKqB,WAJjC;AAKa,gBAAA,OAAO,EAAE,KAAKY,KAAL,CAAWxB;AALjC;AAAA;AAAA;AAAA;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,oBAZJ,eAmBI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,WAAZ;AAAwB,cAAA,OAAO,eAAE,QAAC,QAAD;AAAU,gBAAA,QAAQ,EAAE,KAAKwB,KAAL,CAAWvC,QAA/B;AACU,gBAAA,WAAW,EAAE,KAAKgC,gBAD5B;AAEU,gBAAA,QAAQ,EAAE,KAAKhB,aAFzB;AAGU,gBAAA,MAAM,EAAE,KAAKH;AAHvB;AAAA;AAAA;AAAA;AAAA;AAAjC;AAAA;AAAA;AAAA;AAAA,oBAnBJ,eAuBI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,WAAZ;AAAwB,cAAA,OAAO,eAAE,QAAC,QAAD;AAAU,gBAAA,KAAK,EAAE,KAAK0B,KAAL,CAAW3B;AAA5B;AAAA;AAAA;AAAA;AAAA;AAAjC;AAAA;AAAA;AAAA;AAAA,oBAvBJ,eAwBI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,QAAZ;AAAqB,cAAA,OAAO,eAAE,QAAC,KAAD;AAAO,gBAAA,OAAO,EAAE,KAAKrB;AAArB;AAAA;AAAA;AAAA;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA,oBAxBJ,eAyBI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,YAAZ;AAAyB,cAAA,OAAO,eAAE,QAAC,SAAD;AAAW,gBAAA,SAAS,EAAE,KAAKgD,KAAL,CAAWpC;AAAjC;AAAA;AAAA;AAAA;AAAA;AAAlC;AAAA;AAAA;AAAA;AAAA,oBAzBJ,eA0BI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,OAAZ;AACO,cAAA,OAAO,eAAE,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAE,KAAKoC,KAAL,CAAWV,IAAvB;AAA6B,gBAAA,YAAY,EAAE,KAAKU,KAAL,CAAWR,YAAtD;AACM,gBAAA,gBAAgB,EAAE,KAAKG;AAD7B;AAAA;AAAA;AAAA;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,oBA1BJ,eA6BI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,yBAAZ;AACO,cAAA,OAAO,eAAE,QAAC,QAAD;AAAU,gBAAA,QAAQ,EAAE,KAAKK,KAAL,CAAWD,kBAA/B;AACU,gBAAA,QAAQ,EAAE,KAAKtB,aADzB;AAEU,gBAAA,MAAM,EAAE,KAAKH;AAFvB;AAAA;AAAA;AAAA;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,oBA7BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2CH;;AAvMuB;;AA0M5B,eAAezB,GAAf","sourcesContent":["import logo from '../../logo.svg';\nimport './App.css';\nimport {Component} from \"react\";\nimport {Routes, Route, BrowserRouter} from \"react-router-dom\";\nimport BonVoyageService from \"../../Repository/BonVoyageRepository\";\nimport Header from \"../Header/header\";\nimport Vehicles from \"../Vehicles/VehicleList/vehicles\";\nimport Locations from \"../Locations/locations\";\nimport Register from \"../Register/register\";\nimport Login from \"../Login/login\";\nimport Footer from \"../Footer/footer\";\nimport VehicleAdd from \"../Vehicles/VehicleAdd/VehicleAdd\";\nimport VehicleEdit from \"../Vehicles/VehicleEdit/VehicleEdit\";\nimport Cart from \"../Cart/Cart\";\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            vehicles: [],\n            locations: [],\n            fuels: [],\n            colors: [],\n            roles: [],\n            cart: [],\n            cartVehicles: [],\n            selectedVehicle: {},\n            vehiclesByLocation: []\n        }\n    }\n\n    componentDidMount() {\n        this.loadRoles();\n        this.loadVehicles();\n        this.loadLocations();\n        this.loadColors();\n        this.loadFuels();\n    }\n\n    fetchData = () => {\n        this.loadCart();\n        this.loadCartVehicles();\n    }\n\n    reloadUserData = () => {\n        this.loadCart();\n        this.loadCartVehicles();\n    }\n\n    loadVehicles = () => {\n        BonVoyageService.fetchVehicles()\n            .then((data) => {\n                this.setState({\n                    vehicles: data.data\n                })\n            });\n    }\n\n    loadLocations = () => {\n        BonVoyageService.fetchLocations()\n            .then((data) => {\n                this.setState({\n                    locations: data.data\n                })\n            })\n    }\n\n    loadColors = () => {\n        BonVoyageService.fetchColors()\n            .then((data) => {\n                this.setState({\n                    colors: data.data\n                })\n            })\n    }\n\n    loadFuels = () => {\n        BonVoyageService.fetchFuels()\n            .then((data) => {\n                this.setState({\n                    fuels: data.data\n                })\n            })\n    }\n\n    loadRoles = () => {\n        BonVoyageService.fetchRoles()\n            .then((data) => {\n                this.setState({\n                    roles: data.data\n                })\n            })\n    }\n\n    getVehicle = (id) => {\n        BonVoyageService.getVehicle(id)\n            .then((data) => {\n                this.setState({\n                    selectedVehicle: data.data\n                })\n            })\n    }\n\n    deleteVehicle = (id) => {\n        BonVoyageService.deleteVehicle(id)\n            .then(() => {\n                this.loadVehicles();\n            })\n    }\n\n    addVehicle = (registration, brand, model, color, fuel, year, price, location, picture) => {\n        BonVoyageService.addVehicle(registration, brand, model, color, fuel, year, price, location, picture)\n            .then(() => {\n                this.loadVehicles();\n            })\n    }\n\n    editVehicle = (registration, brand, model, color, fuel, year, price, location, picture) => {\n        BonVoyageService.editVehicle(registration, brand, model, color, fuel, year, price, location, picture)\n            .then(() => {\n                this.loadVehicles();\n            })\n    }\n\n    loadCart = () => {\n        BonVoyageService.fetchCart()\n            .then((data) => {\n                this.setState({\n                    cart: data.data,\n                })\n                this.loadCartVehicles();\n            })\n    }\n\n    loadCartVehicles = () => {\n        BonVoyageService.fetchCartVehicles()\n            .then((data) => {\n                this.setState({\n                    cartVehicles: data.data\n                })\n            })\n    }\n\n    addVehicleToCart = (id) => {\n        BonVoyageService.addToCart(id)\n            .then(() => {\n                this.loadCart();\n                this.loadCartVehicles();\n            })\n    }\n\n    removeVehicleFromCart = (id) => {\n        BonVoyageService.removeFromCart(id)\n            .then(() => {\n                this.loadCart();\n                this.loadCartVehicles();\n            })\n    }\n\n    loadVehiclesByLocation = (id) => {\n        BonVoyageService.fetchVehiclesByLocation(id)\n            .then((data) => {\n                this.setState({\n                    vehiclesByLocation: data.data\n                })\n            });\n\n    }\n\n    render() {\n        return (\n            <BrowserRouter>\n                <Header/>\n                <main>\n                    <div className={\"container\"}>\n                        <Routes>\n                            {[\"/\", \"/home\"].map((path) => {\n                                return (<Route path={path} key={path}\n                                               element={<Footer locations={this.state.locations}\n                                                                loadVehicles={this.loadVehiclesByLocation}/>}/>)\n                            })}\n                            <Route path=\"/vehicles/add\"\n                                   element={<VehicleAdd locations={this.state.locations}\n                                                        categories={this.state.categories}\n                                                        fuels={this.state.fuels}\n                                                        colors={this.state.colors}\n                                                        onAddVehicle={this.addVehicle}/>}/>\n                            <Route path=\"/vehicles/edit/:id\"\n                                   element={<VehicleEdit locations={this.state.locations}\n                                                         onEditVehicle={this.editVehicle}\n                                                         fuels={this.state.fuels}\n                                                         colors={this.state.colors}\n                                                         onEditVehicle={this.editVehicle}\n                                                         vehicle={this.state.selectedVehicle}/>}/>\n                            <Route path=\"/vehicles\" element={<Vehicles vehicles={this.state.vehicles}\n                                                                       onAddToCart={this.addVehicleToCart}\n                                                                       onDelete={this.deleteVehicle}\n                                                                       onEdit={this.getVehicle}/>}/>\n                            <Route path=\"/register\" element={<Register roles={this.state.roles}/>}/>\n                            <Route path=\"/login\" element={<Login onLogin={this.fetchData}/>}/>\n                            <Route path=\"/locations\" element={<Locations locations={this.state.locations}/>}/>\n                            <Route path=\"/cart\"\n                                   element={<Cart cart={this.state.cart} cartVehicles={this.state.cartVehicles}\n                                                  onDeleteFromCart={this.removeVehicleFromCart}/>}/>\n                            <Route path=\"/locations/:id/vehicles\"\n                                   element={<Vehicles vehicles={this.state.vehiclesByLocation}\n                                                      onDelete={this.deleteVehicle}\n                                                      onEdit={this.getVehicle}/>}/>\n                        </Routes>\n                    </div>\n                </main>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}